---
output: github_document
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Final Project: Video Game Sales

#### Analyn Seeman, Devon Katragadda, Cassidy Berghoff, and Sofi Gutierrez

## Introduction

Intro goes here -- State the goal of the project

1.  Which genre has the best sales?

2.  Is there a relationship between user rating and sales? What about
    critic rating in sales? Which one would be better marker for a
    bestseller?

3.  Which platform had the most successful games?

4.  Which platform's games have the best rating? Does platform affect
    the above questions?

5.  What is the most popular genre per platform?

... and so on

These are the main questions we are looking to answer throughout the
course of the final project. Using the results of the analysis, we will
draw a meaningful conclusion on XXX.

## Data

### Uploading Data Set

```{r}

data = read.csv("Video Game Sales 1978 - 2024 export 2025-03-31 22-10-49.csv")

head(data)
```

### Description of Data Set

```{r}

str(data)
# View(data)

```

This data set compiles data from video game sales from 1978 to 2024.
There are 16 columns in this data set, representing the 16 variables in
the data set.

### Variables

-   Rank: The index of the data set
-   Name: The name of the game
-   Platform: The platform that the game was released for
-   All_Platforms: A variable that holds a "list" that describes which
    platforms a game is on if it is on multiple
-   All_Games: A list of all of the games in that series
-   Publisher: The publisher of the games
-   Developer: The people that developed the game
-   Critic_Score: What numeric value the critics gave the game (NA,
    0-10)
-   User_Score: What numeric value the users gave the game (NA, 0-10)
-   NA_Sales: Sales in the North American region
-   PAL_Sales: Sales in the European region
-   JP_Sales: Sales in the Eastern Asia region
-   Other_Sales: Sales in all other regions
-   Global_Sales: Year: The year the game was released (if in a series,
    the year the most recent game was released)
-   Genre: The genre of the game

### Cleaning of Data Set

```{r}
library(dplyr)
library(tidyr)

q1_data <- data %>%
  drop_na(Global_Sales) #dropping games with no available Sale data

q2_data <- q1_data %>%
  drop_na(Critic_Score) %>%
  drop_na(User_Score) #dropping games with no available Sale data

```

## Marginal Summaries

```{r}

q1_data %>%
  group_by(Platform) %>%
  summarise(maxSales = max(Global_Sales)) #3

# Anything with critic ratings, user ratings, and sales data 
q2_data %>%
  group_by(Platform) %>%
  summarise(maxUserScore = max(User_Score), maxCriticScore = max(Critic_Score)) #4

```

## Results

### Question 1:  Which genre has the best sales?

```{r}
q1_genre <- q1_data %>%
  group_by(Genre) %>%
  summarise(totalSales = sum(Global_Sales)) %>%
  arrange(desc(totalSales))

q1_genre

# This table shows the total global sales per genre. The genre with the highest total sales will indicate the most popular one globally.
```

```{r}
library(ggplot2)
ggplot(q1_genre, aes(x = Genre, weight= totalSales)) +
  geom_bar() +
  theme(axis.text.x = element_text(angle = 90))
```

```{r}
ggplot(data, aes(x = Year, y = log(Global_Sales), color = Critic_Score)) +
  geom_point()
```


### Question 2: Is there a relationship between user rating and sales? What about critic rating?
```{r}
library(ggplot2)

# scatterplot for user score vs global sales
ggplot(q2_data, aes(x = User_Score, y = Global_Sales)) +
  geom_point() +
  geom_smooth(method = "lm", col = "blue") +
  labs(title = "User Score vs Global Sales", x = "User Score", y = "Global Sales")

# scatterplot for critic score vs global sales
ggplot(q2_data, aes(x = Critic_Score, y = Global_Sales)) +
  geom_point() +
  geom_smooth(method = "lm", col = "red") +
  labs(title = "Critic Score vs Global Sales", x = "Critic Score", y = "Global Sales")

# These scatterplots will visually explore potential correlations between scores (user and critic) and sales. Regression lines provide insights into the strength and direction of the relationships.
```

### Question 3: Which platform had the most successful games?
```{r}
q1_platform <- q1_data %>%
  group_by(Platform) %>%
  summarise(totalSales = sum(Global_Sales)) %>%
  arrange(desc(totalSales))

q1_platform

# This will list the platforms ranked by total global sales. The platform with the highest total sales is deemed the most successful.
```

### Question 4: Which platform's games have the best rating?
```{r}
q2_platform <- q2_data %>%
  group_by(Platform) %>%
  summarise(
    avgUserScore = mean(User_Score, na.rm = TRUE),
    avgCriticScore = mean(Critic_Score, na.rm = TRUE)
  ) %>%
  arrange(desc(avgUserScore), desc(avgCriticScore))

q2_platform

# Platforms are ranked based on average user and critic scores. A high average score might indicate quality gaming experiences on that platform
```


## Conclusion

1. The genre with the best sales is Sports, highlighting its popularity among players worldwide.

2. There is a positive but not particularly strong relationship between both user and critic ratings and global sales. Higher scores generally align with better sales, but other variables clearly play a role. A moderate/strong relationship exists between critic ratings and global sales, suggesting their importance as a marker for potential bestsellers. This may indicate that critic ratings carry more weight or visibility in influencing purchasing decisions.  

3. The most successful platform in terms of global sales is PS2.

4. XB is home to games with the best average ratings, solidifying its reputation for quality.
